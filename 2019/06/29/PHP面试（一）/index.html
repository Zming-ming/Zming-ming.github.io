<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="明明～">
    
    <meta name="description" content="Zming-ming">
    
    
    
    
    
    
    <title>PHP面试（一） | 明明～</title>
    <link href="”https://zming-ming.github.io“" rel="”prefetch”">

    <link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/aos.css">
<link rel="stylesheet" href="/css/style.css">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/aos.js"></script>
    <script src="/js/highslide/highslide-full.min.js"></script>
    <link rel="stylesheet" href="/js/highslide/highslide.css">
    <style type="text/css">
        @media (max-width: 768px) {
            body {
                background-color: #f0f0f0;
                background: url('/imgs/xsbg.gif');
                background-attachment: fixed;
            }
        }
    </style>
    
    <script src="//cdn1.lncld.net/static/js/3.4.2/av-min.js"></script>
    <script>
      AV.init({
        appId: 'QMjuuJU9D2ss1vdmFKmmq2jv-gzGzoHsz',
        appKey: 'ExPYzACyKFnWERdWAp46xdjI'
      })
    </script>
    
    <!--<script type="text/javascript">
      if (document.images) {
        var avatar = new Image();
        avatar.src = '/imgs/avatar.jpg'
        var previews = 'background1.jpg,background2.jpg,background3.jpg,background4.jpg,background5.jpg,background6.jpg,background7.jpg,background8.jpg,background9.jpg,background10.jpg,background11.jpg,background12.jpg,background13.jpg,background14.jpg,background15.jpg'.split(',')
        var previewsPreLoad = []
        for(var i = 0; i < length; i++) {
          previewsPreLoad.push(new Image())
          previewsPreLoad[previewsPreLoad.length - 1].src = '/imgs/preview' + previews[i]
        }
      }
    </script>-->
</head></html>
<body>
    <!-- 背景轮播图功能 -->
    <section class="hidden-xs">
    <ul class="cb-slideshow">
        <li><span>天若</span></li>
        <li><span>有情</span></li>
        <li><span>天亦老</span></li>
        <li><span>我为</span></li>
        <li><span>长者</span></li>
        <li><span>续一秒</span></li>
    </ul>
</section>
    <!-- 欧尼酱功能, 谁用谁知道 -->
    
    <div class="gal-menu gal-dropdown">
    <div class="circle" id="gal">
        <div class="ring">
            <a href="https://zming-ming.github.io" class="menuItem" style="left: 50%; top: 15%;">首页</a>
            
            <a class="menuItem" style="left: 80.3109%; top: 32.5%;">下一页</a>
            
            <a href="/archives" class="menuItem" style="left: 80.3109%; top: 67.5%;">归档</a>
            <a href="/about" class="menuItem" style="left: 50%; top: 85%;">关于</a>
            <a href="/categories" class="menuItem" style="left: 19.6891%; top: 67.5%;">分类</a>
            
            <a class="menuItem" style="left: 19.6891%; top: 32.5%;">上一页</a>
            
        </div>
        <audio id="audio" src="/imgs/oni.mp3"></audio>
    </div>
</div>
    
    <header class="navbar navbar-inverse" id="gal-header">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".bs-navbar-collapse" aria-expanded="false">
                <span class="fa fa-lg fa-reorder"></span>
            </button>
            <a href="https://zming-ming.github.io">
                
                <style>
                    #gal-header .navbar-brand {
                        height: 54px;
                        line-height: 24px;
                        font-size: 28px;
                        opacity: 1;
                        background-color: rgba(0,0,0,0);
                        text-shadow: 0 0 5px #fff,0 0 10px #fff,0 0 15px #fff,0 0 20px #228DFF,0 0 35px #228DFF,0 0 40px #228DFF,0 0 50px #228DFF,0 0 75px #228DFF;
                    }
                </style>
                <!-- 这里使用文字(navbar_text or config.title) -->
                <div class="navbar-brand">明明～</div>
                
            </a>
        </div>
        <div class="collapse navbar-collapse bs-navbar-collapse">
            <ul class="nav navbar-nav" id="menu-gal">
                
                
                <li class>
                    <a href="/">
                        <i class="fa fa-home"></i>首页
                    </a>
                </li>
                
                
                
                <li class>
                    <a href="/archives">
                        <i class="fa fa-archive"></i>归档
                    </a>
                </li>
                
                
                
                
                <li class="dropdown">
                    <!-- TODO 添加hover dropdown效果 -->
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-hover="dropdown">
                        <i class="fa fa-list"></i>分类
                    </a>
                    <ul class="dropdown-menu">
                        
                        
                        <li>
                            <a href="/categories/PHP/">PHP</a>
                        </li>
                        
                        <li>
                            <a href="/categories/服务器/">服务器</a>
                        </li>
                        
                        <li>
                            <a href="/categories/前端/">前端</a>
                        </li>
                        
                        
                        <li>
                            <a href="/categories">...</a>
                        </li>
                        
                        
                    </ul>
                </li>
                
                
                
                
                
                <li class="dropdown">
                    <!-- TODO 添加hover dropdown效果 -->
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-hover="dropdown">
                        <i class="fa fa-tags"></i>标签
                    </a>
                    <ul class="dropdown-menu">
                        
                        
                        <li>
                            <a href="/tags/Excel/">Excel</a>
                        </li>
                        
                        <li>
                            <a href="/tags/Laravel/">Laravel</a>
                        </li>
                        
                        <li>
                            <a href="/tags/markdown/">markdown</a>
                        </li>
                        
                        
                        <li>
                            <a href="/tags">...</a>
                        </li>
                        
                        
                    </ul>
                </li>
                
                
                
                
                <li class>
                    <a href="/about">
                        <i class="fa fa-user"></i>关于我
                    </a>
                </li>
                
                
            </ul>
        </div>
    </div>
</header>
    <div id="gal-body">
        <div class="container">
            <div class="row">
                <div class="col-md-8 gal-right" id="mainstay">
                    
<article class="article well article-body" id="article">
    <div class="breadcrumb">
        <i class="fa fa-home"></i>
        <a href="https://zming-ming.github.io">明明～</a>
        >
        <span>PHP面试（一）</span>
    </div>
    <!-- 大型设备详细文章 -->
    <div class="hidden-xs">
        <div class="title-article">
            <h1>
                <a href="/2019/06/29/PHP面试（一）/">PHP面试（一）</a>
            </h1>
        </div>
        <div class="tag-article">
            
            <span class="label label-gal">
                <i class="fa fa-tags"></i>
                
                <a href="/tags/PHP/">PHP</a>
                
            </span>
            
            <span class="label label-gal">
                <i class="fa fa-calendar"></i> 2019-06-29
            </span>
            
            <span class="label label-gal">
                <i class="fa fa-eye"></i>
            </span>
            
        </div>
    </div>
    <!-- 小型设备详细文章 -->
    <div class="visible-xs">
        <center>
            <div class="title-article">
                <h4>
                    <a href="/2019/06/29/PHP面试（一）/">PHP面试（一）</a>
                </h4>
            </div>
            <p>
                <i class="fa fa-calendar"></i> 2019-06-29
            </p>
            <p>
                
                <i class="fa fa-tags"></i>
                
                <a href="/tags/PHP/">PHP</a>
                
                
                
                <i class="fa fa-eye"></i>
                
            </p>
        </center>
    </div>
    <div class="content-article">
        <h3 id="1-php-的垃圾回收机制"><a href="#1-php-的垃圾回收机制" class="headerlink" title="1. php 的垃圾回收机制"></a>1. php 的垃圾回收机制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PHP 可以自动进行内存管理，清除不需要的对象。</span><br><span class="line"></span><br><span class="line">PHP 使用了引用计数 (reference counting) GC 机制。</span><br><span class="line"></span><br><span class="line">每个对象都内含一个引用计数器 refcount，每个 reference 连接到对象，计数器加 1。当 reference 离开生存空间或被设为 NULL，计数器减 1。当某个对象的引用计数器为零时，PHP 知道你将不再需要使用这个对象，释放其所占的内存空间。</span><br><span class="line"></span><br><span class="line">参考 http://www.php.net/manual/zh/features.gc.r...</span><br></pre></td></tr></table></figure>

<h3 id="2-session-与-cookie-的区别和联系"><a href="#2-session-与-cookie-的区别和联系" class="headerlink" title="2. session 与 cookie 的区别和联系"></a>2. session 与 cookie 的区别和联系</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">区别：</span><br><span class="line"></span><br><span class="line">存放位置：Session 保存在服务器，Cookie 保存在客户端。</span><br><span class="line">存放的形式：Session 是以对象的形式保存在服务器，Cookie 以字符串的形式保存在客户端。</span><br><span class="line"></span><br><span class="line">用途：Cookies 适合做保存用户的个人设置，爱好等，Session 适合做客户的身份验证</span><br><span class="line"></span><br><span class="line">路径：Session 不能区分路径，同一个用户在访问一个网站期间，所有的 Session 在任何一个地方都可以访问到。而 Cookie 中如果设置了路径参数，那么同一个网站中不同路径下的 Cookie 互相是访问不到的。</span><br><span class="line"></span><br><span class="line">安全性：Cookie 不是很安全，别人可以分析存放在本地的 COOKIE 并进行 COOKIE 欺骗，考虑到安全应当使用 session</span><br><span class="line"></span><br><span class="line">大小以及数量限制：每个域名所包含的 cookie 数：IE7/8,FireFox:50 个，Opera30 个； Cookie 总大小：Firefox 和 Safari 允许 cookie 多达 4097 个字节，Opera 允许 cookie 多达 4096 个字 节，InternetExplorer 允许 cookie 多达 4095 个字节；一般认为 Session 没有大小和数量限制。</span><br><span class="line"></span><br><span class="line">关系：</span><br><span class="line"></span><br><span class="line">Session 需要借助 Cookie 才能正常工作。如果客户端完全禁止 Cookie，Session 将失效！因为 Session 是由应用服务器维持的一个 服务器端的存储空间，用户在连接服务器时，会由服务器生成一个唯一的 SessionID, 用该 SessionID 为标识符来存取服务器端的 Session 存储空间。而 SessionID 这一数据则是保存到客户端，用 Cookie 保存的，用户提交页面时，会将这一 SessionID 提交到服务器端，来存取 Session 数据。这一过程，是不用开发人员干预的。所以一旦客户端禁用 Cookie，那么 Session 也会失效。</span><br></pre></td></tr></table></figure>

<h3 id="3-如何修改-SESSION-的生存时间"><a href="#3-如何修改-SESSION-的生存时间" class="headerlink" title="3. 如何修改 SESSION 的生存时间"></a>3. 如何修改 SESSION 的生存时间</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">设置浏览器保存的 sessionid 失效时间 setcookie (session_name (), session_id (), time () + $lifeTime, &quot;/&quot;);</span><br><span class="line"></span><br><span class="line">可以使用 SESSION 自带的 session_set_cookie_params (86400); 来设置 Session 的生存期</span><br><span class="line"></span><br><span class="line">通过修改 php.ini 中的 session.gc_maxlifetime 参数的值就可以改变 session 的生存时间</span><br></pre></td></tr></table></figure>

<h3 id="4-PHP-页面重定向的方法有哪些"><a href="#4-PHP-页面重定向的方法有哪些" class="headerlink" title="4. PHP 页面重定向的方法有哪些"></a>4. PHP 页面重定向的方法有哪些</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">header(&apos;Location: http://www.baidu.com/&apos;) ;</span><br></pre></td></tr></table></figure>

<h3 id="5-PDO、adoDB、PHPLib-数据库抽象层比较"><a href="#5-PDO、adoDB、PHPLib-数据库抽象层比较" class="headerlink" title="5. PDO、adoDB、PHPLib 数据库抽象层比较"></a>5. PDO、adoDB、PHPLib 数据库抽象层比较</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">PHP 数据库抽象层就是指，封装了数据库底层操作的介于 PHP 逻辑程序代码和数据库之间的中间件。</span><br><span class="line"></span><br><span class="line">PDO 以 PHP 5.1 为基础进行设计，它使用 C 语言做底层开发，设计沿承 PHP 的特点，以简洁易用为准，从严格意义上讲，PDO 应该归为 PHP 5 的 SPL 库之一，而不应该归于数据抽象层，因为其本身和 MySQL 和 MySQLi 扩展库的功能类似。PDO 是不适合用在打算或者有可能会变更数据库的系 统中的。</span><br><span class="line"></span><br><span class="line">ADODB 不管后端数据库如何，存取数据库的方式都是一致的；</span><br><span class="line"></span><br><span class="line">转移数据库平台时，程序代码也不必做太大的更动，事实上只需要改动数据库配置文 件。提供了大量的拼装方法，目的就是针对不同的数据库在抽象层的底层对这些语句进行针对性的翻译，以适应不同的数据库方言！但是这个抽象层似乎体积过于庞 大了，全部文件大概有 500K 左右，如果你做一个很小的网站的话，用这个似乎大材小用了</span><br><span class="line"></span><br><span class="line">PHPLib 可能是伴随 PHP 一同成长最老的数据库抽象层（但和 ADODB 相比，它只算是一个 MySQL 抽象类库），这个抽象类使用方法相当简单，体积小，是小型网站开发不错的选择。</span><br><span class="line"> </span><br><span class="line">PDO 提供预处理语句查询、错误异常处理、灵活取得查询结果（返回数组、字符串、对象、回调函数）、字符过滤防止 SQL 攻击、事务处理、存储过程。</span><br><span class="line"></span><br><span class="line">ADODB 支持 缓存查询、移动记录集、（HTML、分页、选择菜单生成）、事务处理、输出到文件。 </span><br><span class="line">参考 http://apps.hi.baidu.com/share/detail/4636...</span><br></pre></td></tr></table></figure>

<h3 id="6-长连接、短连接的区别和使用"><a href="#6-长连接、短连接的区别和使用" class="headerlink" title="6. 长连接、短连接的区别和使用"></a>6. 长连接、短连接的区别和使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">长连接：client 方与 server 方先建立连接，连接建立后不断开，然后再进行报文发送和接收。这种方式下由于通讯连接一直存在。此种方式常用于 P2P 通信。</span><br><span class="line"></span><br><span class="line">短连接：Client 方与 server 每进行一次报文收发交易时才进行通讯连接，交易完毕后立即断开连接。此方式常用于一点对多点通讯。C/S 通信。</span><br><span class="line"></span><br><span class="line">长连接与短连接的使用时机：</span><br><span class="line"></span><br><span class="line">长连接：</span><br><span class="line"></span><br><span class="line">短连接多用于操作频繁，点对点的通讯，而且连接数不能太多的情况。每个 TCP 连 接的建立都需要三次握手，每个 TCP 连接的断开要四次握手。如果每次操作都要建立连接然后再操作的话处理速度会降低，所以每次操作下次操作时直接发送数据 就可以了，不用再建立 TCP 连接。例如：数据库的连接用长连接，如果用短连接频繁的通信会造成 socket 错误，频繁的 socket 创建也是对资源的浪 费。</span><br><span class="line"></span><br><span class="line">短连接：</span><br><span class="line"></span><br><span class="line">web 网站的 http 服务一般都用短连接。因为长连接对于服务器来说要耗费一定 的资源。像 web 网站这么频繁的成千上万甚至上亿客户端的连接用短连接更省一些资源。试想如果都用长连接，而且同时用成千上万的用户，每个用户都占有一个 连接的话，可想而知服务器的压力有多大。所以并发量大，但是每个用户又不需频繁操作的情况下需要短连接。</span><br><span class="line"></span><br><span class="line">参考 http://www.cnblogs.com/Roberts/archive/2010/12/05/1986550.html</span><br></pre></td></tr></table></figure>

<h3 id="7-HTTP-协议详解、应用"><a href="#7-HTTP-协议详解、应用" class="headerlink" title="7. HTTP 协议详解、应用"></a>7. HTTP 协议详解、应用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">http（超文本传输协议）是一个基于请求与响应模式的、无状态的、短连接、灵活、应用层的协议，常基于 TCP 的连接方式。</span><br><span class="line"></span><br><span class="line">参考 http://blog.csdn.net/gueter/article/detail... (http 协议详解)</span><br><span class="line"></span><br><span class="line">(HTTP 响应状态码)</span><br><span class="line"></span><br><span class="line">HTTP 响应状态码</span><br><span class="line"></span><br><span class="line">状态代码有三位数字组成，第一个数字定义了响应的类别，且有五种可能取值：</span><br><span class="line"></span><br><span class="line">1xx：指示信息 -- 表示请求已接收，继续处理</span><br><span class="line"></span><br><span class="line">2xx：成功 -- 表示请求已被成功接收、理解、接受</span><br><span class="line"></span><br><span class="line">3xx：重定向 -- 要完成请求必须进行更进一步的操作</span><br><span class="line"></span><br><span class="line">4xx：客户端错误 -- 请求有语法错误或请求无法实现</span><br><span class="line"></span><br><span class="line">5xx：服务器端错误 -- 服务器未能实现合法的请求</span><br><span class="line"></span><br><span class="line">常见状态代码、状态描述、说明：</span><br><span class="line"></span><br><span class="line">200 OK // 客户端请求成功</span><br><span class="line"></span><br><span class="line">400 Bad Request // 客户端请求有语法错误，不能被服务器所理解</span><br><span class="line"></span><br><span class="line">401 Unauthorized // 请求未经授权，这个状态代码必须和 WWW-Authenticate 报头域一起使用 403 Forbidden // 服务器收到请求，但是拒绝提供服务</span><br><span class="line"></span><br><span class="line">404 Not Found // 请求资源不存在，eg：输入了错误的 URL</span><br><span class="line"></span><br><span class="line">500 Internal Server Error // 服务器发生不可预期的错误</span><br><span class="line"></span><br><span class="line">503 Server Unavailable // 服务器超时 // 可能恢复正常</span><br><span class="line"></span><br><span class="line">304 Not Modifed // 自从上次请求后，请求的网页未修改过。</span><br><span class="line"></span><br><span class="line">// 服务器返回此响应时，不会返回网页内容。</span><br></pre></td></tr></table></figure>

<h3 id="8-异构系统通讯中的通讯加密方案"><a href="#8-异构系统通讯中的通讯加密方案" class="headerlink" title="8. 异构系统通讯中的通讯加密方案"></a>8. 异构系统通讯中的通讯加密方案</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">参考 http://blog.csdn.net/linvo/article/details...</span><br></pre></td></tr></table></figure>

<h3 id="9-socket-连接步骤"><a href="#9-socket-连接步骤" class="headerlink" title="9. socket 连接步骤"></a>9. socket 连接步骤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Socket（套接字）概念</span><br><span class="line"></span><br><span class="line">套接字（socket）是通信的基石，是支持 TCP/IP 协议的网络通信的基本操作单元。它是网络通信过程中端点的抽象表示，包含进行网络通信必须的五种信息：连接使用的协议，本地主机的 IP 地址，本地进程的协议端口，远地主机的 IP 地址，远地进程的协议端口。</span><br><span class="line"></span><br><span class="line">Socket 连接过程</span><br><span class="line"></span><br><span class="line">建立 Socket 连接至少需要一对套接字，其中一个运行于客户端，称为 ClientSocket ，另一个运行于服务器端，称为 ServerSocket</span><br><span class="line"></span><br><span class="line">套接字之间的连接过程可以分为三个步骤：服务器监听，客户端请求，连接确认。</span><br><span class="line"></span><br><span class="line">服务器监听：是服务器端套接字并不定位具体的客户端套接字，而是处于等待连接的状态，实时监控网络状态。</span><br><span class="line"></span><br><span class="line">客户端请求：是指由客户端的套接字提出连接请求，要连接的目标是服务器端的套接字。为此，客户端的套接字必须首先描述它要连接的服务器的套接字，指出服务器端套接字的地址和端口号，然后就向服务器端套接字提出连接请求。</span><br><span class="line"></span><br><span class="line">连接确认：是指当服务器端套接字监听到或者说接收到客户端套接字的连接请求，它就响应客户端</span><br><span class="line"></span><br><span class="line">套接字的请求，建立一个新的线程，把服务器端套接字的描述发给客户端，一旦客户端确认了此描述，连接就建立好了。而服务器端套接字继续处于监听状态，继续接收其他客户端套接字的连接请求。</span><br></pre></td></tr></table></figure>

<h3 id="10-TCP-协议，三次握手、四次挥手"><a href="#10-TCP-协议，三次握手、四次挥手" class="headerlink" title="10. TCP 协议，三次握手、四次挥手"></a>10. TCP 协议，三次握手、四次挥手</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">TCP 协议 (Transmission Control Protocol) 是主机对主机层的传输控制协议，提供可靠的连接服务，采用三次握手确认建立一个连接，四次挥手断开连接。</span><br><span class="line"></span><br><span class="line">位码即 tcp 标志位，有 6 种标示:</span><br><span class="line"></span><br><span class="line">SYN (synchronous 建立联机) 同步</span><br><span class="line"></span><br><span class="line">ACK (acknowledgement 确认)</span><br><span class="line"></span><br><span class="line">PSH (push 传送)</span><br><span class="line"></span><br><span class="line">FIN (finish 结束)</span><br><span class="line"></span><br><span class="line">RST (reset 重置)</span><br><span class="line"></span><br><span class="line">URG (urgent 紧急)</span><br></pre></td></tr></table></figure>

<h3 id="11-php-中常用作用相似，性能差异很大的函数区分及举例"><a href="#11-php-中常用作用相似，性能差异很大的函数区分及举例" class="headerlink" title="11. php 中常用作用相似，性能差异很大的函数区分及举例"></a>11. php 中常用作用相似，性能差异很大的函数区分及举例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">参考 http://apps.hi.baidu.com/share/detail/4316...</span><br></pre></td></tr></table></figure>

<h3 id="12-posix-及-perl-兼容正则比较，及函数性能分析"><a href="#12-posix-及-perl-兼容正则比较，及函数性能分析" class="headerlink" title="12. posix 及 perl 兼容正则比较，及函数性能分析"></a>12. posix 及 perl 兼容正则比较，及函数性能分析</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POSIX 正则和 PCRE 正则最显著的需要知道的不同点：</span><br><span class="line"></span><br><span class="line">PCRE 函数需要模式以分隔符闭合.</span><br><span class="line"></span><br><span class="line">POSIX 兼容正则没有修正符。不像 POSIX, PCRE 扩展没有专门用于大小写不敏感匹配的函数。取而</span><br><span class="line"></span><br><span class="line">代之的是，支持使用 /i 模式修饰符完成同样的工作。其他模式修饰符同样可用于改变匹配策略.</span><br><span class="line"></span><br><span class="line">POSIX 函数从最左面开始寻找最长的匹配，但是 PCRE 在第一个合法匹配后停止。如果字符串 不匹</span><br><span class="line">配这没有什么区别，但是如果匹配，两者在结果和速度上都会有差别。为了说明这个不同，考虑下面的例子 (来自 Jeffrey Friedl 的《精通正则表达式》一书). 使用模式 one (self)?(selfsufficient)? 在字符串 oneselfsufficient 上匹配，PCRE 会匹配到 oneself, 但是使用 POSIX, 结果将是整个字符串 oneselfsufficient. 两个子串都匹配原始字符串，但是 POSIX 将 最长的最为结果.</span><br><span class="line"></span><br><span class="line">PCRE 可用的修饰符: (i,s,m)</span><br></pre></td></tr></table></figure>

<h3 id="13-实现-PERL-正则表达式，抓取-html-文件-a-标签的所有-href-超链接"><a href="#13-实现-PERL-正则表达式，抓取-html-文件-a-标签的所有-href-超链接" class="headerlink" title="13. 实现 PERL 正则表达式，抓取 html 文件 a 标签的所有 href 超链接"></a>13. 实现 PERL 正则表达式，抓取 html 文件 a 标签的所有 href 超链接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">正则：/&lt;a\s+.?href=\&apos;\&quot;[\&apos;\&quot; &gt;]/is</span><br><span class="line"></span><br><span class="line">html = &amp;lt;&amp;lt;matches = array();html=&lt;&lt;matches=array();</span><br><span class="line"></span><br><span class="line">preg_match_all ( &quot;/&lt;a\s+.?href=\&apos;\&quot;[\&apos;\&quot;&gt;]/is&quot;, html, html,matches ); </span><br><span class="line">print_r ($matches [1]); // 输出所有超链接</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3 id="14-预定义变量、魔术变量、魔术方法比较，及作用举例"><a href="#14-预定义变量、魔术变量、魔术方法比较，及作用举例" class="headerlink" title="14. 预定义变量、魔术变量、魔术方法比较，及作用举例"></a>14. 预定义变量、魔术变量、魔术方法比较，及作用举例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">预定义变量（超级全局变量）</span><br><span class="line"></span><br><span class="line">GLOBALS_SERVER</span><br><span class="line">GET_POST</span><br><span class="line">COOKIE_SESSION</span><br><span class="line">REQUEST_ENV</span><br><span class="line"></span><br><span class="line">魔术方法 http://apps.hi.baidu.com/share/detail/17851228</span><br><span class="line"></span><br><span class="line">construct 和 destruct</span><br><span class="line">__autoload</span><br><span class="line">get 和 set</span><br><span class="line">isset 和 unset</span><br><span class="line">call 和 callStatic</span><br><span class="line">__clone</span><br><span class="line">__toString</span><br><span class="line">sleep 和 wakeup</span><br><span class="line">__invoke</span><br><span class="line"></span><br><span class="line">魔术变量 http://apps.hi.baidu.com/share/detail/17851228</span><br><span class="line"></span><br><span class="line">LINE</span><br><span class="line">FILE</span><br><span class="line">DIR</span><br><span class="line">CLASS</span><br><span class="line">FUNCTION</span><br><span class="line">METHOD</span><br><span class="line">NAMESPACE</span><br></pre></td></tr></table></figure>

<h3 id="15-PHP-设计模式"><a href="#15-PHP-设计模式" class="headerlink" title="15. PHP 设计模式"></a>15. PHP 设计模式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">工厂模式</span><br><span class="line"></span><br><span class="line">建立一个工厂（一个函数或一个类方法）来制造新的对象</span><br><span class="line"></span><br><span class="line">工厂模式 是一种类，它具有为您创建对象的某些方法。您可以使用工厂类创建对象，而不直接使用 new。这样，如果您想要更改所创建的对象类型，只需更改该工厂即可。使用该工厂的所有代码会自动更改。</span><br><span class="line"></span><br><span class="line">单例模式</span><br><span class="line"></span><br><span class="line">某些应用程序资源是独占的，因为有且只有一个此类型的资源。例如，通过数据库句柄到数据库的连接是独占的。您希望在应用程序中共享数据库句柄，因为在保持连接打开或关闭时，它是一种开销，在获取单个页面的过程中更是如此。</span><br><span class="line"></span><br><span class="line">单元素模式可以满足此要求。</span><br><span class="line"></span><br><span class="line">PHP 中的单例模式（singleton pattern）：指的是在 PHP 的应用程序的范围内只对指定的类创建一个实例。</span><br><span class="line"></span><br><span class="line">在 PHP 中使用单例模式的类通常拥有一个私有构造函数和一个私有克隆函数，以防 止用户通过创建对象或者克隆对其进行实例化。还有一个静态私有成员变量instance与静态方法getInstance。getInstance负责对其本身实例化，然后将这个对象存储在instance 静态成员变量中，以确保只有一个实例被创建。</span><br><span class="line"></span><br><span class="line">观察者模式</span><br><span class="line"></span><br><span class="line">命令链模式</span><br><span class="line"></span><br><span class="line">策略模式</span><br></pre></td></tr></table></figure>

<h3 id="16-负载均衡的-web-应用服务器设计，例如-youku"><a href="#16-负载均衡的-web-应用服务器设计，例如-youku" class="headerlink" title="16. 负载均衡的 web 应用服务器设计，例如 youku"></a>16. 负载均衡的 web 应用服务器设计，例如 youku</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">用 PHP 做负载均衡指南</span><br><span class="line"></span><br><span class="line">思考如何应对以下问题？ 参考 http://www.examw.com/linux/all/142494/</span><br><span class="line"></span><br><span class="line">在 Apache 负载均衡的情况下，做 PHP 开发如何考虑一下几方面：</span><br><span class="line"></span><br><span class="line">PHP 源文件在服务器、PHP 文件上传处理、相关配置文件、Session 会话放置、日志放置</span><br><span class="line"></span><br><span class="line">Apache 负载均衡的原则：</span><br><span class="line"></span><br><span class="line">参考 http://s456123123b.blog.163.com/blog/static/5632332220101080474642/</span><br><span class="line"></span><br><span class="line">轮询均衡策略 （轮询转发请求）</span><br><span class="line"></span><br><span class="line">按权重分配均衡策略 （按响应数量转发请求）</span><br><span class="line"></span><br><span class="line">权重请求响应负载均衡策略 （按响应流量转发请求）</span><br></pre></td></tr></table></figure>

<h3 id="17-如何优化前端性能"><a href="#17-如何优化前端性能" class="headerlink" title="17. 如何优化前端性能"></a>17. 如何优化前端性能</h3><blockquote>
<p>1) 页面内容的优化</p>
</blockquote>
<blockquote>
<blockquote>
<p>a) 降低请求数</p>
<blockquote>
<p>合并 css、js 文件，集成 CSS 图片</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>b) 减少交互通信量</p>
<blockquote>
<p>压缩技术：压缩 css、js 文件，优化图像，减少 cookie 体积；</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>合理利用缓存：使用外部 js/css 文件，缓存 ajax；</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>减少不必要的通信量：剔除无用脚本和样式、推迟加载内容、使用 GET 请求</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>c) 合理利用 “并行” 尽量避免重定向</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>慎用 Iframe 样式表置于顶部 脚本放到样式后面加载</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>d) 节约系统消耗</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>避免 CSS 表达式、滤镜</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>2) 服务器的优化</p>
</blockquote>
</blockquote>
<h3 id="18-yahoo-的-34-条前端优化法则"><a href="#18-yahoo-的-34-条前端优化法则" class="headerlink" title="18. yahoo 的 34 条前端优化法则"></a>18. yahoo 的 34 条前端优化法则</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">减少 HTTP 请</span><br><span class="line">利用 CDN 技术</span><br><span class="line">设置头文件过期或者静态缓存</span><br><span class="line">Gzip 压缩</span><br><span class="line">把 CSS 放顶部</span><br><span class="line">把 JS 放底部</span><br><span class="line">避免 CSS 表达式</span><br><span class="line">将 JS 和 CSS 外链</span><br><span class="line">减少 DNS 查找</span><br><span class="line">减小 JS 和 CSS 的体积</span><br><span class="line">避免重定向</span><br><span class="line">删除重复脚本</span><br><span class="line">配置 ETags</span><br><span class="line">缓存 Ajax</span><br><span class="line">尽早的释放缓冲</span><br><span class="line">用 GET 方式进行 AJAX 请求</span><br><span class="line">延迟加载组件</span><br><span class="line">预加载组件</span><br><span class="line">减少 DOM 元素数量</span><br><span class="line">跨域分离组件</span><br><span class="line">减少 iframe 数量</span><br><span class="line">不要出现 404 页面</span><br><span class="line">减小 Cookie</span><br><span class="line">对组件使用无 Cookie 的域名</span><br><span class="line">减少 DOM 的访问次数</span><br><span class="line">开发灵活的事件处理句柄</span><br><span class="line">使用 而非 @import</span><br><span class="line">避免过滤器的使用</span><br><span class="line">优化图片</span><br><span class="line">优化 CSS Sprites</span><br><span class="line">不要在 HTML 中缩放图片</span><br><span class="line">缩小 favicon. ico 的大小并缓存它</span><br><span class="line">保证组件在 25K 以下</span><br><span class="line">将组件打包进一个多部分的文档中</span><br></pre></td></tr></table></figure>

<h3 id="19-数据库缓存的基本理论，参考-memcached"><a href="#19-数据库缓存的基本理论，参考-memcached" class="headerlink" title="19. 数据库缓存的基本理论，参考 memcached"></a>19. 数据库缓存的基本理论，参考 memcached</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">什么是 Memcached？</span><br><span class="line"></span><br><span class="line">memcached 是高性能的分布式内存缓存服务器。一般的使用目的是，通过缓存数据库查询结果，减少数据库访问次数，以提高动态 Web 应用的速度、提高可扩展性。</span><br><span class="line"></span><br><span class="line">虽然 memcached 使用了同样的 “Key=&gt;Value” 方式组织数据，但是它和共享内存、APC 等本地缓存有非常大的区别。Memcached 是分布式的，也就是说 它不是本地的。它基于网络连接（当然它也可以使用 localhost）方式完成服务，本身它是一个独立于应用的程序或守护进程（Daemon 方式）</span><br><span class="line"></span><br><span class="line">PHP 与 Memcached</span><br><span class="line"></span><br><span class="line">Memcached 使用 libevent 库实现网络连接服务，理论上可以处理无限多的连接</span><br></pre></td></tr></table></figure>

<h3 id="20-PHP-安全模式"><a href="#20-PHP-安全模式" class="headerlink" title="20. PHP 安全模式"></a>20. PHP 安全模式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">php 安全模式：safe_mode=on|off</span><br><span class="line"></span><br><span class="line">启用 safe_mode 指令将对在共享环境中使用 PHP 时可能有危险的语言特性有所限制。可以将 safe_mode 是指为布尔值 on 来启用，或者设置为 off 和脚本尝试访问的文件的 UID，以此作为限制机制的基础。如果 UID 相同，则执行脚本；否则，脚本失败。</span><br><span class="line"></span><br><span class="line">当启用安全模式时，一些限制将生效</span><br><span class="line">1、 所有输入输出函数（例如 fopen ()、file () 和 require ()）的适用会受到限制，只能用于与调用这些函数的</span><br><span class="line"></span><br><span class="line">脚本有相同拥有者的文件</span><br><span class="line"></span><br><span class="line">2、 如果试图通过函数 popen ()、system () 或 exec () 等执行脚本，只有当脚本位于 safe_mode_exec_dir</span><br><span class="line"></span><br><span class="line">配置指令指定的目录才可能</span><br><span class="line"></span><br><span class="line">3、HTTP 验证得到进一步加强，因为验证脚本用于者的 UID 划入验证领域范围内。此外，当启用安</span><br><span class="line"></span><br><span class="line">全模式时，不会设置 PHP_AUTH。</span><br><span class="line"></span><br><span class="line">4、如果适用 MySQL 数据库服务器，链接 MySQL 服务器所用的用户名必须与调用 mysql_connect ()</span><br><span class="line"></span><br><span class="line">的文件拥有者用户名相同。</span><br><span class="line"></span><br><span class="line">以下是一些和安全模式相关的配置选项</span><br><span class="line"></span><br><span class="line">safe_mode_gid=on|off</span><br><span class="line"></span><br><span class="line">safe_mode_include_dir=string</span><br><span class="line"></span><br><span class="line">safe_mode_env_vars=string</span><br><span class="line"></span><br><span class="line">safe_mode_exec_dir=string</span><br><span class="line"></span><br><span class="line">safe_mode_protected_env_vars=string</span><br></pre></td></tr></table></figure>

<h3 id="21-常见的-web-攻击方式"><a href="#21-常见的-web-攻击方式" class="headerlink" title="21. 常见的 web 攻击方式"></a>21. 常见的 web 攻击方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">常见攻击</span><br><span class="line"></span><br><span class="line">XSS (Cross Site Script) ，跨站脚本攻击。它指的是恶意攻击者往 Web 页面里插入恶意 html 代码，当用户浏览该页之时，嵌入的恶意 html 代码会被执行，从而达到恶意用户的特殊 目的。XSS 属于被动式的攻击，因为其被动且不好利用，所以许多人常呼略其危害性。但是随着前端技术的不断进步富客户端的应用越来越多，这方面的问题越来 越受关注。举个简单例子 ： 假如你现在是 sns 站点上一个用户，发布信息的功能存在漏洞可以执行 js 你在 此刻输入一个 恶意脚本，那么当前所有看到你新信息的人的浏览器都会执行这个脚本弹出提示框 （很爽吧 弹出广告 ：）），如果你做一些更为激进行为呢 后果难以想象。</span><br><span class="line"></span><br><span class="line">CSRF (Cross Site Request Forgery)，跨站点伪造请求。顾名思义就是 通过伪造连接请求在用户不知情的情况下，让用户以自己的身份来完成攻击者需要达到的一些目的。csrf 的攻击不同于 xss csrf 需要被攻击者的主动行为触发。这样听来似乎是有 “被钓鱼” 的嫌疑。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">多窗口浏览器这这方面似乎是有助纣为虐的嫌疑，因为打开的新窗口是具有当前所有 会话的，如果是单浏览器窗口类似 ie6 就不会存在这样的问题，因为每个窗口都是一个独立的进程。举个简单例子 ： 你正在玩白社会， 看到有人发了一个连接，你点击过去，然后这个连接里面伪造了一个送礼物的表单，这仅仅是一个简单的例子，问题可见一般。</span><br><span class="line"></span><br><span class="line">cookie 劫持。通过获取页面的权限，在页面中写一个简单的到恶意站点的请 求，并携带用户的 cookie 获取 cookie 后通过 cookie 就可以直以被盗用户的身份登录站点。这就是 cookie 劫持。举个简单例子： 某人写了一篇很有意思的日志，然后分享给大家，很多人都点击查看并且分享了该日志，一切似乎都很正常，然而写日志的人却另有用心，在日志中偷偷隐藏了一个 对站外的请求，那么所有看过这片日志的人都会在不知情的情况下把自己的 cookie 发送给了 某人，那么他可以通过任意一个人的 cookie 来登录这个人的账户。</span><br><span class="line"></span><br><span class="line">SQL 注入攻击</span><br><span class="line"></span><br><span class="line">在 SQL 注入攻击 中，用户通过操纵表单或 GET 查询字符串，将信息添加到数据库查询中。</span><br><span class="line"></span><br><span class="line">DNS 攻击</span><br><span class="line"></span><br><span class="line">拒绝服务攻击</span><br><span class="line"></span><br><span class="line">拒绝服务攻击即攻击者想办法让目标机器停止提供服务，是黑客常用的攻击手段之。</span><br><span class="line"></span><br><span class="line">攻击者进行拒绝服务攻击，实际上让服务器实现两种效果：一是迫使服务器的缓冲区满，不接收新的请求；</span><br><span class="line">二是使用 IP 欺骗，迫使服务器把合法用户的连接复位，影响合法用户的连接</span><br></pre></td></tr></table></figure>

<h3 id="22-PHP-做好防盗链的基本思想-防盗链"><a href="#22-PHP-做好防盗链的基本思想-防盗链" class="headerlink" title="22. PHP 做好防盗链的基本思想 防盗链"></a>22. PHP 做好防盗链的基本思想 防盗链</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">什么是盗链？</span><br><span class="line"></span><br><span class="line">盗链是指服务提供商自己不提供服务的内容，通过技术手段绕过其它有利益的最终用户界面 (如广告)，直接在自己的网站上向最终用户提供其它服务提供商的服务内容，骗取最终用户的浏览和点击率。受益者不提供资源或提供很少的资源，而真正的服务提供商却得不到任何的收益。</span><br><span class="line"></span><br><span class="line">网站盗链会大量消耗被盗链网站的带宽，而真正的点击率也许会很小，严重损害了被盗链网站的利益。 如何做防盗链？</span><br><span class="line"></span><br><span class="line">不定期更名文件或者目录</span><br><span class="line"></span><br><span class="line">限制引用页</span><br><span class="line"></span><br><span class="line">原理是，服务器获取用户提交信息的网站地址，然后和真正的服务端的地址相比较， 如果一致则表明是站内提交，或者为自己信任的站点提交，否则视为盗链。实现时可以使用 HTTP_REFERER1 和 htaccess 文件 (需要启用 mod_Rewrite)，结合正则表达式去匹配用户的每一个访问请求。</span><br><span class="line"></span><br><span class="line">文件伪装</span><br><span class="line"></span><br><span class="line">文件伪装是目前用得最多的一种反盗链技术，一般会结合服务器端动态脚本 (PHP/JSP/ASP)。实际上用户请求的文件地址，只是一个经过伪装的脚本文件，这个脚本文件会对用户的请求作认证，一般会检查 Session，Cookie 或 HTTP_REFERER 作为判断是否为盗链的依据。而真实的文件实际隐藏在用户不能够访问的地方，只有用户通过验证以后才会返回给用户</span><br><span class="line"></span><br><span class="line">加密认证</span><br><span class="line"></span><br><span class="line">这种反盗链方式，先从客户端获取用户信息，然后根据这个信息和用户请求的文件名 字一起加密成字符串 (Session ID) 作为身份验证。只有当认证成功以后，服务端才会把用户需要的文件传送给客户。一般我们会把加密的 Session ID 作为 URL 参数的一部分传递给服务器，由于这个 Session ID 和用户的信息挂钩，所以别人就算是盗取了链接，该 Session ID 也无法通过身份认证，从而达到反盗链的目的。这种方式对于分布式盗链非常有效。</span><br><span class="line"></span><br><span class="line">随机附加码</span><br><span class="line"></span><br><span class="line">每次，在页面里生成一个附加码，并存在数据库里，和对应的图片相关，访问图片时和此附加码对比，相同则输出图片，否则输出 404 图片</span><br><span class="line"></span><br><span class="line">加入水印</span><br></pre></td></tr></table></figure>

<h3 id="23-HTTP-请求头信息和响应头信息"><a href="#23-HTTP-请求头信息和响应头信息" class="headerlink" title="23. HTTP 请求头信息和响应头信息"></a>23. HTTP 请求头信息和响应头信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">请求头信息</span><br><span class="line"></span><br><span class="line">POST /scp1.1.0/prs/new_rnaseqtask/run_go HTTP/1.1</span><br><span class="line">Host: 172.30.4.102</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:6.0) Gecko/20100101 Firefox/6.0</span><br><span class="line">Accept: /</span><br><span class="line">Accept-Language: zh-cn,zh;q=0.5</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept-Charset: GB2312,utf-8;q=0.7,*;q=0.7</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=UTF-8</span><br><span class="line">X-Requested-With: XMLHttpRequest</span><br><span class="line">Referer: http://172.30.4.102/scp1.1.0/index.php/prs... Content-Length: 1819</span><br><span class="line">Cookie:</span><br><span class="line">ci_session=a%3A4%3A%7Bs%3A10%3A%22session_id%22%3Bs%3A32%3A%22e31556053ff9407a454f6a1e146d43eb%22%3Bs%3A10%3A%22ip_address%22%3Bs%3A12%3A%22172.16.23.42%22%3Bs%3A10%3A%22user_agent%22%3Bs%3A50%3A%22Mozilla%2F5.0+%28Windows+NT+6.1%3B+rv%3A6.0%29+Gecko%2F2010010%22%3Bs%3A13%3A%22last_activity%22%3Bi%3A1314955607%3B%7D664b51a01ef99bac95f3e2206e79cb00;PHPSESSID=v33mlm1437lmop1fquta675vv4;username=linjinming; tk=1314955601855 Pragma: no-cache</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">响应头信息</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Fri, 02 Sep 2011 09:27:07 GMT</span><br><span class="line">Server: Apache/2.2.3 (Red Hat)</span><br><span class="line">X-Powered-By: PHP/5.1.6</span><br><span class="line">Expires: Thu, 19 Nov 1981 08:52:00 GMT</span><br><span class="line">Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">Content-Encoding: gzip</span><br><span class="line">Content-Length: 31</span><br><span class="line">Connection: close</span><br><span class="line">Content-Type: text/html; charset=UTF-8</span><br></pre></td></tr></table></figure>

<h3 id="24-MySQL"><a href="#24-MySQL" class="headerlink" title="24. MySQL"></a>24. MySQL</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">MySQL 数据库性能优化</span><br><span class="line"></span><br><span class="line">使用 mysqlreport；</span><br><span class="line"></span><br><span class="line">正确使用索引：explain 分析查询语句，组合索引，索引副作用（占空间、update）</span><br><span class="line"></span><br><span class="line">开启慢查询日志、使用慢查询分析工具 mysqlsla；</span><br><span class="line"></span><br><span class="line">索引缓存、索引代价（插入更新索引）；</span><br><span class="line"></span><br><span class="line">表锁，行锁，行锁副作用（update 多时候变慢），在 select 和 update 混合的情况下，行锁巧妙解决了读写互斥的问题；</span><br><span class="line"></span><br><span class="line">开启使用查询缓存；</span><br><span class="line"></span><br><span class="line">修改临时表内存空间；</span><br><span class="line"></span><br><span class="line">开启线程池；</span><br><span class="line"></span><br><span class="line">MySQL Query 语句优化的基本思路和原则</span><br><span class="line"></span><br><span class="line">优化需要优化的 Query；</span><br><span class="line"></span><br><span class="line">定位优化对象的性能瓶颈；</span><br><span class="line"></span><br><span class="line">明确优化目标；</span><br><span class="line"></span><br><span class="line">从 Explaing 入手；</span><br><span class="line"></span><br><span class="line">多使用 Profile；</span><br><span class="line"></span><br><span class="line">永远用小结果集推动大的结果集；</span><br><span class="line"></span><br><span class="line">尽可能在索引中完成排序；</span><br><span class="line"></span><br><span class="line">只取自己需要的 Columns；</span><br><span class="line"></span><br><span class="line">仅仅使用最有效的过滤条件；</span><br><span class="line"></span><br><span class="line">尽可能避免复杂的 Join 和子查询。</span><br><span class="line"></span><br><span class="line">MySQL 中 MyISAM 引擎和 InnoDB 引擎的区别以及它们的性能</span><br><span class="line"></span><br><span class="line">1：Innodb 支持事物，Myisam 不支持</span><br><span class="line"></span><br><span class="line">2：锁定机制不一样，Myisam 支持表锁定，而 Innodb 支持行锁</span><br><span class="line"></span><br><span class="line">3：Myisam 不支持外键，Innodb 能支持</span><br><span class="line"></span><br><span class="line">4：Myisam 能在特定环境下支持全文索引，而 Innodb 不支持</span><br><span class="line"></span><br><span class="line">5：Myisam 支持数据压缩，Innodb 不支持</span><br><span class="line"></span><br><span class="line">6：在数据存储上，Myisam 占用的空间少，Innodb 相对多些</span><br><span class="line"></span><br><span class="line">7：Myisam 在批量插入和查询方面速度上有优势，而 Innodb 由于支持行锁，所以在数据修改方面更胜一筹</span><br><span class="line"></span><br><span class="line">MySQL 存储引擎</span><br><span class="line"></span><br><span class="line">MyISAM：不支持事务、表锁和全文索引，操作速度快</span><br><span class="line"></span><br><span class="line">InnoDB：行锁设计、支持外键、支持安全事务</span><br><span class="line"></span><br><span class="line">HEAP：数据存放在内存中，临时表</span><br><span class="line"></span><br><span class="line">NDB Cluster：MySQL 的簇式数据库引擎</span><br><span class="line"></span><br><span class="line">CSV: 存储引擎把数据以逗号分隔的格式存储在文本文件中。</span><br><span class="line"></span><br><span class="line">FEDERATED：存储引擎表并不存放数据，它只是指向一台远程 MySQL 数据库服务器上的表 Archive: 只支持 INSERT 和 SELECT 操作，压缩后存储，非常适合存储归档数据</span><br><span class="line"></span><br><span class="line">Merge：允许将一系列等同的 MyISAM 表以逻辑方式组合在一起，并作为 1 个对象引用它们 表类型，区分表类型</span><br><span class="line"></span><br><span class="line">优化表设计的常用思路</span><br><span class="line"></span><br><span class="line">负载均衡的数据库设计</span><br><span class="line"></span><br><span class="line">数据类型及详细定义，区分</span><br></pre></td></tr></table></figure>


    </div>
</article>


                </div>
                <aside class="col-md-4 gal-left" id="sidebar">
    <!-- 此为sidebar的搜索框, 非搜索结果页面 -->
<aside id="sidebar-search">
    <div class="search hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <form class="form-inline clearfix" id="search-form" method="get" action="/search/index.html">
            <input type="text" name="s" class="form-control" id="searchInput" placeholder="搜索文章~" autocomplete="off">
            <button class="btn btn-danger btn-gal" type="submit">
                <i class="fa fa-search"></i>
            </button>
        </form>
    </div>
</aside>
    <aside id="sidebar-author">
    <div class="panel panel-gal" data-aos="flip-right" data-aos-duration="3000">
        <div class="panel-heading" style="text-align: center">
            <i class="fa fa-quote-left"></i>
            明明～
            <i class="fa fa-quote-right"></i>
        </div>
        <div class="author-panel text-center">
            <img src="/imgs/avatar.jpg" width="140" height="140" alt="个人头像" class="author-image">
            <p class="author-description"></p><p>Zming-ming</p>
<p></p>
        </div>
    </div>
</aside>
    
    <!-- 要配置好leancloud才能开启此小工具 -->
    
    <aside id="sidebar-hot_posts">
    <div class="panel panel-gal hot hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-fire"></i>
            最热文章
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush"></ul>
    </div>
</aside>
    
    
    <aside id="sidebar-recent_posts">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-refresh"></i>
            近期文章
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush">
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2019/10/15/实用-SQL-语句/">实用 SQL 语句</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2019/09/20/25-个-Linux-下最炫酷又强大的命令行神器/">25 个 Linux 下最炫酷又强大的命令行神器</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2019/09/18/一千行MySQL命令/">一千行MySQL命令</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2019/09/17/后端必备-Nginx-配置/">后端必备 Nginx 配置</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2019/06/29/PHP面试（一）/">PHP面试（一）</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2019/06/29/phpstorm快捷键/">phpstorm快捷键</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/11/23/MySQL-函数/">MySQL 函数</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/11/02/Linux-守护进程的启动方法/">Linux 守护进程的启动方法</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/11/02/常用-Git-命令清单/">常用 Git 命令清单</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/10/30/基于个推（GeTui）官方SDK集成-Laravel-5/">基于个推（GeTui）官方SDK集成 Laravel 5.* </a>
                </span>
            </li>
            
        </ul>
    </div>
</aside>
    
    
    <aside id="sidebar-rand_posts">
    <div class="panel panel-gal recent hidden-xs" data-aos="fade-up" data-aos-duration="2000">
        <div class="panel-heading">
            <i class="fa fa-refresh"></i>
            随机文章
            <i class="fa fa-times-circle panel-remove"></i>
            <i class="fa fa-chevron-circle-up panel-toggle"></i>
        </div>
        <ul class="list-group list-group-flush">
            
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/08/24/保存网络图片/">php如何实现保存网络图片</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/09/14/常用-Git-命令/">常用 Git 命令</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/11/02/常用-Git-命令清单/">常用 Git 命令清单</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2019/09/17/后端必备-Nginx-配置/">后端必备 Nginx 配置</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/10/17/微信小程序的更新机制/">微信小程序的更新机制</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/08/07/搭建hexo/">搭建hexo</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/08/24/递归方法/">php实现无限极分类的方法：递归方法和引用方法</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2019/06/29/PHP面试（一）/">PHP面试（一）</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2019/09/18/一千行MySQL命令/">一千行MySQL命令</a>
                </span>
            </li>
            
            <li class="list-group-item">
                <span class="post-title">
                    <a href="/2018/09/13/MySql函数字典/">MySql函数字典</a>
                </span>
            </li>
            
        </ul>
    </div>
</aside>
    
    
    <aside id="gal-sets">
        <div class="panel panel-gal hidden-xs" data-aos="fade-up" data-aos-duration="2000">
            <ul class="nav nav-pills pills-gal">

                
                <li>
                    <a href="/2019/06/29/PHP面试（一）/index.html#sidebar-tags" data-toggle="tab" id="tags-tab">热门标签</a>
                </li>
                
                
                <li>
                    <a href="/2019/06/29/PHP面试（一）/index.html#sidebar-friend-links" data-toggle="tab" id="friend-links-tab">友情链接</a>
                </li>
                
                
                <li>
                    <a href="/2019/06/29/PHP面试（一）/index.html#sidebar-links" data-toggle="tab" id="links-tab">个人链接</a>
                </li>
                
            </ul>
            <div class="tab-content">
                
                <div class="cloud-tags tab-pane nav bs-sidenav fade" id="sidebar-tags">
    
    <a href="/tags/Excel/" style="font-size: 12.094312566051688px;" class="tag-cloud-link">Excel</a>
    
    <a href="/tags/Laravel/" style="font-size: 19.389680085439082px;" class="tag-cloud-link">Laravel</a>
    
    <a href="/tags/markdown/" style="font-size: 10.827911431893849px;" class="tag-cloud-link">markdown</a>
    
    <a href="/tags/Linux/" style="font-size: 19.360320558629162px;" class="tag-cloud-link">Linux</a>
    
    <a href="/tags/定时任务/" style="font-size: 10.436842537933211px;" class="tag-cloud-link">定时任务</a>
    
    <a href="/tags/npm/" style="font-size: 19.97391137685969px;" class="tag-cloud-link">npm</a>
    
    <a href="/tags/vue/" style="font-size: 14.331494258629796px;" class="tag-cloud-link">vue</a>
    
    <a href="/tags/PHP/" style="font-size: 14.489051835635461px;" class="tag-cloud-link">PHP</a>
    
    <a href="/tags/GIT/" style="font-size: 19.398108295684583px;" class="tag-cloud-link">GIT</a>
    
    <a href="/tags/小程序/" style="font-size: 19.643151149813754px;" class="tag-cloud-link">小程序</a>
    
    <a href="/tags/GeTui/" style="font-size: 14.277725945931259px;" class="tag-cloud-link">GeTui</a>
    
    <a href="/tags/composer/" style="font-size: 16.2135232133639px;" class="tag-cloud-link">composer</a>
    
    <a href="/tags/支付/" style="font-size: 16.159972832446552px;" class="tag-cloud-link">支付</a>
    
    <a href="/tags/Redis/" style="font-size: 11.600064604730944px;" class="tag-cloud-link">Redis</a>
    
    <a href="/tags/MySql/" style="font-size: 9.60766115176451px;" class="tag-cloud-link">MySql</a>
    
</div>
                
                
                <div class="friend-links tab-pane nav bs-sidenav fade" id="sidebar-friend-links">
    
    <li>
        <a href="http://kdays.net/days/" target="_blank">KDays Forum</a>
    </li>
    
    <li>
        <a href="http://www.gal123.com/" target="_blank">绅士导航♂</a>
    </li>
    
    <li>
        <a href="http://www.moe123.com/" target="_blank">萌导航</a>
    </li>
    
</div>
                
                
                <div class="links tab-pane nav bs-sidenav fade" id="sidebar-links">
    
    <li>
        <a href="https://github.com/Zming-ming/" target="_blank">Github</a>
    </li>
    
    <li>
        <a href="https://coding.net/u/SORA1" target="_blank">Coding</a>
    </li>
    
    <li>
        <a href="https://www.zhihu.com/people/aonosora/activities" target="_blank">知乎</a>
    </li>
    
</div>
                
            </div>
        </div>
    </aside>
    
</aside>
            </div>
        </div>
    </div>
    <footer id="gal-footer">
    <div class="container">
        Copyright © 2018 明明～ Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.&nbsp;Theme by <a href="https://github.com/ZEROKISEKI" target="_blank">AONOSORA</a>
    </div>
</footer>

<!-- 回到顶端 -->
<div id="gal-gotop">
    <i class="fa fa-angle-up"></i>
</div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hibiki.model.json"},"display":{"position":"right","width":150,"height":350},"mobile":{"show":true},"log":false});</script></body>
<script src="/js/activate-power-mode.js"></script>
<script>

    // 配置highslide
	hs.graphicsDir = '/js/highslide/graphics/'
    hs.outlineType = "rounded-white";
    hs.dimmingOpacity = 0.8;
    hs.outlineWhileAnimating = true;
    hs.showCredits = false;
    hs.captionEval = "this.thumb.alt";
    hs.numberPosition = "caption";
    hs.align = "center";
    hs.transitions = ["expand", "crossfade"];
    hs.lang.number = '共%2张图, 当前是第%1张';
    hs.addSlideshow({
      interval: 5000,
      repeat: true,
      useControls: true,
      fixedControls: "fit",
      overlayOptions: {
        opacity: 0.75,
        position: "bottom center",
        hideOnMouseOut: true
      }
    })

    // 初始化aos
    AOS.init({
      duration: 1000,
      delay: 0,
      easing: 'ease-out-back'
    });

</script>
<script>
	POWERMODE.colorful = 'true';    // make power mode colorful
	POWERMODE.shake = 'true';       // turn off shake
	// TODO 这里根据具体情况修改
	document.body.addEventListener('input', POWERMODE);
</script>
<script>
    window.slideConfig = {
      prefix: '/imgs/slide/background',
      ext: 'jpg',
      maxCount: '6'
    }
</script>
<script src="/js/hs.js"></script>
<script src="/js/blog.js"></script>

<script src="/js/oni.js"></script>


<script>
    window.hot_posts_count = '10'
    // window.use_leancloud = 'true'
</script>
<script src="/js/comment/leancloud.js"></script>


</html>